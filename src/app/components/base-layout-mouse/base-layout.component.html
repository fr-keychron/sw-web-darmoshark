<div class='base-layout-wrapper g-scroll-bar'>
	<!-- 加载图 -->
	<div class='device-unconnected' *ngIf="!currentHidDevice">
		<c-loading/>
	</div>
	<div class='device-connected' *ngIf="currentHidDevice && showCover">
		<div class="device-connected-top  g-flex g-justify-between g-item-center" (click)="bodyClick($event)">
			<div class="left" (click)="$event.stopPropagation()"  *ngIf="left">
				<ng-container *ngTemplateOutlet="left"></ng-container>
			</div>
			<div class="middle g-flex g-item-center g-justify-center" [class]="!right ? 'middle-left g-justify-end' : ''">
				<div>
					<img [src]="cover" #coverImage>
					<ng-container *ngIf="jsonConf && showMouseButton">
						<div *ngFor="let item of keys, let i = index"
						     class="mouse-key-button"
						     [ngStyle]="item.style"
						     [ngClass]="{
									'mouse-key-active': (leftLock === '1' && i === 0) ? false : item.index === mouseKeyActive, 
									'disabled': leftLock === '1' && i === 0
								 }"
						     (click)="(leftLock === '1' && i === 0) ? false : activeMouseKey($event, item.index)"
						>
							<div [ngStyle]="item.line"></div>
							<div [ngStyle]="item.text" class="g-flex g-item-center g-justify-start">
								<div class="icon_square"></div>
								<span>
        							{{(item.name && !item.keyKeep) ? (('mouse.key_basic.'+item.name) | translate) : (('mouse.button' | translate) +" "+ (i+1))}}
								</span>
								<ng-container *ngTemplateOutlet="textAttach;context: { key: item }"></ng-container>
							</div>
						</div>
 
					</ng-container>
					<div class="g-flex g-justify-center" *ngIf="currentHidDevice && showCoverSelect && images && cover">
						<span 
							*ngFor="let option of images"
							class="color-circle"
							[ngClass]="{'color-active': coverUrl === option.cover}"
							(click)="getImg(option.cover)"
							[ngStyle]="{'background': getGradient(option.colors)}">
						</span>
					</div>
				</div>
			</div>
			<div class="right"  *ngIf="right">
				<ng-container *ngTemplateOutlet="right"></ng-container> 
			</div>
		</div> 
		<div class="device-connected-bottom" *ngIf="isconfig">
			<div class="device-botton-box g-flex g-justify-end g-item-center">
				<div class="icon_square"></div>
				<div class="device-connected-select">
					<g-select
					[(ngModel)]="profile" 
					[gCenter]="false"
					(ngModelChange)="setConfig($event)"
				>
					<g-option *ngFor="let option of ConfigList" 
						[gLabel]="('macro.config'| translate) + '0' + (option+1)" 
						[gValue]="option"
					>
					</g-option>
				</g-select> 
				</div>
				<div class="icon_square"></div>
				<button class="button-bule" (click)="reset()">
					<span class="icon-reset icon-button"></span>
					<p>{{ 'common.reset' | translate }}</p>
				</button>
				<div class="icon_square"></div>
				<button class="button-bule" (click)="importConfig()">
					<span class="icon-import icon-button"></span>
					<p>{{ 'common.export' | translate }}</p>
				</button>
				<div class="icon_square"></div>
				<button class="button-bule">
					<span class="icon-export icon-button"></span>
					<p>{{ 'common.import' | translate }}</p>
					<input class="upload" type="file" accept=".json" (change)="exportConfig($event)">
				</button>
			</div>
			
	</div> 
	</div>
</div>