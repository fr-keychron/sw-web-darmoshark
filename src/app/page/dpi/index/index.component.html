<base-layout-mouse 
    [left]="left" 
    (load)="load($event)"
    [showMouseButton]="false" 
>
    <ng-template #left>
        <div class="container-title g-flex g-justify-between g-item-center">
            <span>指针设置</span>
            <span class="icon_arrow"></span>
        </div>
        <!-- DPI设置 -->
        <div class="dpi-container">
            <div class="dpi-title g-flex g-item-center g-justify-between">
                <div class="g-flex g-item-center g-justify-between">
                    <span class="icon_square"></span>
                    {{'DPI调节' | translate}}
                    <span 
                        class="icon_hint"
                        nz-tooltip
                        [nzTooltipTitle]="'mouse.dpi.dpiTip' | translate"
                    ></span>
                </div> 
                <span 
                    class="icon-reset-bule"
                    (click)="reset()"
                ></span> 
            </div>
            <div class="dpi-os" [ngClass]="{ 'dpixy-os': nxySetting }">
                <div class="os-left">
                    <div class="os-item" *ngFor="let dpi of dpiValues;let i = index">
                        <div (click)="changeLevel(i)" class="item-left" [ngStyle]="{background: dpiColors[i] || '#fff'}"></div>
                        <div
                            class="item-right"
                            (click)="changeLevel(i)"
                            [ngClass]="{'active-bgcolor': dpiLevel === i}"
                        >
                            <span *ngIf="!nxySetting">
                                <input type="number" [value]="dpi[0]" (keydown)="validateDpiInput($event)"  (blur)="validateDpiValue($event, 0)"/>
                            </span>
                            <div *ngIf="nxySetting" >
                                <span class="g-flex">
                                    X:
                                    <input type="number" [value]="dpi[0]" (keydown)="validateDpiInput($event)" (blur)="validateDpiValue($event, 0)" />
                                </span>
                                <span class="g-flex">
                                    Y:
                                    <input type="number" [value]="dpi[1]" (keydown)="validateDpiInput($event)"  (blur)="validateDpiValue($event, 1)"/>
                                </span>
                            </div>
                        </div> 
                    </div>
                </div>
                <div class="os-right g-flex g-item-end g-flex-col">
                    <div class="g-flex">
                        <span class="text-levelCount">{{'mouse.dpi.levelCount' | translate }}</span>
                        <g-select
                            class="dpi-select"
                            [(ngModel)]="dpiGears"
                            [gCenter]="false"
                            (ngModelChange)="levelCount()"
                        >
                            <g-option [gValue]="1" gLabel="1"></g-option>
                            <g-option [gValue]="2" gLabel="2"></g-option>
                            <g-option [gValue]="3" gLabel="3"></g-option>
                            <g-option [gValue]="4" gLabel="4"></g-option>
                            <g-option [gValue]="5" gLabel="5"></g-option>
                        </g-select> 
                    </div>
                    <div class="scale-content">
                        <div *ngIf="!nxySetting" class="scale-slider-box">
                            <!-- <span>{{minDpi}}</span> -->
                            <g-slider 
                                class="dpi-slider"
                                [(ngModel)]="dpiValues[this.dpiLevel][0]" 
                                [min]="minDpi" 
                                [max]="maxDpi" 
                                [step]="50" 
                                [isRealTimeUpdate]="true"
                                [btn]="true"
                                tip="{{dpiValues[this.dpiLevel][0]}}"
                                (ngModelChange)="changeScaleX()" 
                            >
                            </g-slider>
                            <!-- <span>{{maxDpi}}</span> -->
                        </div>
                        <div *ngIf="nxySetting" class="scale-slider-box">
                            <!-- <span>{{minDpi}}</span> -->
                            <g-slider 
                                class="dpi-slider"
                                [(ngModel)]="dpiValues[this.dpiLevel][0]" 
                                [min]="minDpi" 
                                [max]="maxDpi" 
                                [step]="50" 
                                [isRealTimeUpdate]="true"
                                [btn]="true"
                                tip="X:{{dpiValues[this.dpiLevel][0]}}"
                            >
                            </g-slider>
                            <!-- <span>{{maxDpi}}</span> -->
                        </div>
                        <div *ngIf="nxySetting" class="scale-slider-box">
                            <!-- <span>{{minDpi}}</span> -->
                            <g-slider 
                                class="dpi-slider"
                                [(ngModel)]="dpiValues[this.dpiLevel][1]" 
                                [min]="minDpi" 
                                [max]="maxDpi" 
                                [step]="50" 
                                [btn]="true"
                                [isRealTimeUpdate]="true"
                                tip="Y:{{dpiValues[this.dpiLevel][1]}}"
                            >
                            </g-slider>
                            <!-- <span>{{maxDpi}}</span> -->
                        </div>
                    </div>
                   <div class="scale-bottom">
                        <div class="checkbox-blue">
                            <input type="checkbox" [(ngModel)]="nxySetting" />
                            <label>X-Y Setting</label>
                        </div>
                        <div class="submit-btn" (click)="setDpi()">
                            <span>{{'确定' | translate }}</span>
                        </div>
                   </div>
            </div>
        </div>
        </div>
         <!-- <div class="dpixy-container">
            <div class="report-title g-flex g-item-center g-justify-start">
                <span class="icon_square"></span>
                {{'X-Y Setting' | translate}} 
            </div>
            <div class="dpixy-os">
                <div class="dpixy-slider-box g-flex g-item-center ">
                    <span>X:</span>
                    <g-slider 
                        class="dpi-slider"
                        [(ngModel)]="dpiValues[this.dpiLevel][0]" 
                        [min]="minDpi" 
                        [max]="maxDpi" 
                        [step]="50" 
                        [isRealTimeUpdate]="true"
                        (mouseup)="setDpi()"
                        (ngModelChange)="changeScaleX()" 
                    >
                    </g-slider>
                    <span>{{dpiValues[this.dpiLevel][0]}}</span>
                </div>
                <div class="dpixy-slider-box g-flex g-item-center ">
                    <span>Y:</span>
                    <g-slider 
                        class="dpi-slider"  
                        [(ngModel)]="dpiValues[this.dpiLevel][1]" 
                        [min]="minDpi" 
                        [max]="maxDpi" 
                        [step]="50" 
                        [isRealTimeUpdate]="true"
                        (mouseup)="setDpi()"
                        (ngModelChange)="changeScaleY()" 
                    >
                    </g-slider>
                    <span>{{dpiValues[this.dpiLevel][1]}}</span>
                </div>
                <div class="checkbox-blue">
                    <input type="checkbox" [(ngModel)]="nxySync" />
                    <label>X-Y Sync</label>
                </div>
            </div>
        </div> -->
        <!-- 回报率设置 -->
        <div class="report-container">
            <div class="report-title g-flex g-item-center g-justify-start">
                <span class="icon_square"></span>
                {{'mouse.dpi.reportRate' | translate}}
                <span 
                    class="icon_hint"
                    nz-tooltip
                    [nzTooltipTitle]="'mouse.dpi.reportTip' | translate"
                ></span> 
            </div>
            <div class="report-os g-flex g-justify-start"> 
                <div class="os-item" *ngFor="let item of reportRate;let i = index" (click)="setReportRate(i)">
                    <div  class="item-left" [ngStyle]="{background: item.color || '#fff'}"></div>
                    <div
                        class="item-right"
                        [ngClass]="{'active-bgcolor': reportRateVal === i}"
                    >
                        {{ item.value + 'HZ'}}
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
</base-layout-mouse>
