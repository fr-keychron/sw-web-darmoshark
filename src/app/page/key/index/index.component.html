<base-layout-mouse 
    [left]="left"
    (mouseKey)="mouseKeyClick($event)" 
    (load)="load($event)"
    [keyChange]="keyChange"
>
  <ng-template #left>
    <div class="container-title g-flex g-justify-between g-item-center">
        <span>{{ 'mouse.menu.mouse_setting' | translate}}</span>
        <span class="icon-mouse"></span>
    </div>
     <div class="g-flex">
        <div class="key-container">
            <div class="key-title g-flex g-justify-between g-item-center ">
                <div class="g-flex g-item-center">
                    <span class="icon_square"></span>
                    {{ 'mouse.key.1' | translate}}
                </div>
                <span (click)="resetKey()" class="icon-reset-bule "></span>
            </div>
            <div class="key-content">
                <div 
                    class="key-item" 
                    *ngFor="let item of mouseKeys,let i = index" 
                    (click)="setActive(item.mouseKey,$event)" 
                    [ngClass]="'key-name' + 
                    (activeMouseKey === item.mouseKey ? 
                    ' active-bgcolor' : ' default-bgcolor') + 
                    (!item?.disabled ? ' hover' : ' disabled')"
                >
                    <b class="key-text">
                        {{item.name ? (('mouse.key_basic.' + item.name) | translate) : (('mouse.button' | translate) + " " + (i + 1))}}
                    </b>
                    <b class="key-text">
                        {{  item.type === 4 
                            ? ('mouse.menu.setMacro' | translate) + ' ' + (item?.data.name || '')
                            : [2, 7, 9].includes(item?.type)
                                ? (('mouse.key.' + item.type) | translate)
                                : item?.key
                                    ? ('mouse.key_basic.' + item.key | translate)
                                    : ''
                        }}
                    </b>
                
                </div>
            </div>
        </div>
        <div class="fun-container">
            <div class="g-flex g-justify-between g-item-center">
                <div class="g-flex g-item-center">
                    <span class="icon_square"></span>
                    {{  
                         [7, 8, 9, 10].includes(activeMouseKey) ? ('mouse.key_basic.' + getActiveMouseName() | translate) :
                        (('mouse.button' )| translate) + (activeMouseKey+1)
                    }}
                </div>
                <span (click)="resetFun()" class="icon-reset-bule "></span>
            </div>
            <div class="fun-content">
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.11' | translate}}
                    </div>
                    <g-select
                        class="fun-select"
                        [(ngModel)]="currentMouseKey" 
                        [ngClass]="funType === funBtnKeys.Mouse || funType === funBtnKeys.remove ? 'active-bgfun' : ''"
                        [gCenter]="false"
                        (ngModelChange)="setSelectActive($event,1)"
                    >
                        <g-option *ngFor="let option of mouseAction" 
                            [gLabel]="'mouse.key_basic.' + option.key" 
                            [gValue]="option.value"
                        >
                        </g-option>
                    </g-select> 
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.5' | translate}}
                    </div>
                    <g-select
                        class="fun-select"
                        [ngClass]="funType === funBtnKeys.Dpi ? 'active-bgfun' : ''"
                        [(ngModel)]="currentMouseKey" 
                        [gCenter]="false"
                        (ngModelChange)="setSelectActive($event,5)"
                    >
                        <g-option *ngFor="let option of sensitiveAction" 
                            [gLabel]="'mouse.key_basic.' + option.key" 
                            [gValue]="option.value"
                        >
                        </g-option>
                    </g-select> 
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.3' | translate}}
                    </div>
                    <g-select
                        class="fun-select"
                        [ngClass]="funType === funBtnKeys.Media ? 'active-bgfun' : ''"
                        [(ngModel)]="currentMouseKey" 
                        [gCenter]="false"
                        (ngModelChange)="setSelectActive($event,3)"
                    >
                        <g-option *ngFor="let option of mediaAction" 
                            [gLabel]="'mouse.key_basic.' + option.key" 
                            [gValue]="option.value"
                        >
                        </g-option>
                    </g-select> 
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.12' | translate}}
                    </div>
                    <g-select
                        class="fun-select"
                        [ngClass]="funType === funBtnKeys.Macro  ? 'active-bgfun' : ''"
                        [(ngModel)]="currentMouseKey" 
                        [gCenter]="false"
                        (ngModelChange)="setMacro($event)"
                    >
                        <g-option *ngFor="let option of macroList" 
                            [gLabel]="('keymap.tabs.custom' | translate) + ' ' + (option?.name || '')"
                            [gValue]="option.id"
                        >
                        </g-option>
                    </g-select> 
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.13' | translate}}
                    </div>
                    <g-select
                        class="fun-select"
                        [ngClass]="funType === funBtnKeys.ShortCut ? 'active-bgfun' : ''"
                        [(ngModel)]="currentMouseKey" 
                        [gCenter]="false"
                        (ngModelChange)="setSelectActive($event,8)"
                    >
                        <g-option *ngFor="let option of shortcutAction" 
                            [gLabel]="'mouse.key_basic.' + option.key" 
                            [gValue]="option.value"
                        >
                        </g-option>
                    </g-select> 
                </div>
                <div class="fun-item" *ngIf="showLight">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.14' | translate}}
                    </div>
                    <g-select
                        class="fun-select"
                        [ngClass]="funType === funBtnKeys.Light ? 'active-bgfun' : ''"
                        [(ngModel)]="currentMouseKey" 
                        [gCenter]="false"
                        (ngModelChange)="setSelectActive($event,6)"
                    >
                        <g-option *ngFor="let option of lightAction" 
                            [gLabel]="'mouse.key_basic.' + option.key" 
                            [gValue]="option.value"
                        >
                        </g-option>
                    </g-select> 
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.2' | translate}}
                    </div>
                    <button 
                        (click)="funType = funBtnKeys.Keyboard"
                        [ngClass]="funType === funBtnKeys.Keyboard ? 'active-bg-btn' : ''"
                    > 
                        {{ 'menu.setting' | translate}}
                    </button>
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center g-justify-between">
                        <div class="g-flex g-item-center">
                            <span class="icon_square"></span>
                            {{ 'mouse.key.7' | translate}}
                        </div>
                        <span 
                            class="icon_hint"
                            nz-tooltip
                            nzTooltipPlacement="right"
                            [nzTooltipTitle]="'mouse.tip.7' | translate"
                        ></span>
                    </div>
                    <button 
                        (click)="funType = funBtnKeys.GameReinforce"
                        [ngClass]="funType === funBtnKeys.GameReinforce  ? 'active-bg-btn' : ''"
                    > 
                        {{ 'menu.setting' | translate}}
                    </button>
                </div>
                <div class="fun-item">
                    <div class="g-flex g-item-center">
                        <span class="icon_square"></span>
                        {{ 'mouse.key.9' | translate}}
                    </div>
                    <button 
                        (click)="setSelectActive(null,9)"
                        [ngClass]="funType === funBtnKeys.disable ? 'active-bg-btn' : ''"
                    > 
                        {{ 'mouse.key.9' | translate}}
                    </button>
                </div>
            </div>
        </div>
        <div class="nested-container">
            <mouse-button-keyboard 
                *ngIf="funType === funBtnKeys.Keyboard" 
                class="keyboard-content"
                (update)="load($event)" 
                [keyChange]="keyChange"
                [data]="keyConf"
                [mouseKey]="activeMouseKey" 
            ></mouse-button-keyboard>
            <mouse-button-game 
                class="game-content"
                *ngIf="funType === funBtnKeys.GameReinforce" 
                (update)="load($event)" 
                [keyChange]="keyChange"
                [data]="keyConf"
                [mouseKey]="activeMouseKey" 
            ></mouse-button-game>
        </div>
     </div>
  </ng-template>
</base-layout-mouse>
<nz-modal
    [(nzVisible)]="tipModal"
    [nzFooter]="null"
    (nzOnCancel)="tipModal=false"
    [nzStyle]="{top: '48%'}"
>
	<ng-container *nzModalContent>
    <div class="modal-content">
      {{"mouse.tip.leftLock" | translate}}
    </div>
	</ng-container>
</nz-modal>