<base-layout-mouse 
    [left]="left" 
    (load)="load($event)"
    [showMouseButton]="false" 
>
    <ng-template #left>
        <div class="container-title g-flex g-justify-between g-item-center">
            <span>{{'mouse.menu.sys_setting'  | translate}} </span>
            <span class="icon-sys"></span>
        </div>
        <div class="sys-container">
            <div class="item-container">
                <div class="g-flex g-item-center g-justify-between">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{'mouse.tip.2'  | translate}} 
                    </div>
                    <span>{{ mouseInfo.mouse }}</span>
                </div>
            </div>
            <div class="item-container">
                <div class="g-flex g-item-center g-justify-between">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{'mouse.tip.3'  | translate}} 
                    </div>
                    <span>{{ mouseInfo.receiver }}</span>
                </div>
            </div>
            <div class="item-container">
                <div class="g-flex g-item-center g-justify-between">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{'mouse.tip.5'  | translate}} 
                    </div>
                    <span>{{ mouseInfo.launcher }}</span>
                </div>
            </div>
            <div class="item-container" >
                <div class="g-flex g-item-center g-justify-between" *ngIf="firmwareInfo.lastedVersion">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{ 'firmware.info.4' | translate }}
                    </div>
                    <div class="reset-select" (click)="updataModal = true">
                        {{'menu.keyboard_firmware'  | translate}} 
                    </div>
                </div>
            </div>
            <div class="item-container">
                <div class="g-flex g-item-center g-justify-between">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{'setting.language_select'  | translate}} 
                    </div>
                    <div class="lang-select">
                        <g-select
                            [(ngModel)]="activeLng" 
                            [gCenter]="false"
                            (ngModelChange)="changeLang($event)"
                        >
                            <g-option *ngFor="let option of lngEnum" 
                                [gLabel]="option.label" 
                                [gValue]="option.value"
                            >
                            </g-option>
                        </g-select> 
                    </div>
                </div>
            </div>
            <div class="item-container">
                <div class="g-flex g-item-center g-justify-between">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{'mouse.key.10'  | translate}} 
                    </div>
                    <div class="reset-select" (click)="resetModal = true">
                        {{'common.recover'  | translate}}
                    </div>
                </div>
            </div>
            <div class="item-container">
                <div class="g-flex g-item-center g-justify-between">
                    <div class="g-flex g-item-center ">
                        <span class="icon_square"></span>
                        {{'mouse.sys.leftLock'  | translate}} 
                    </div>
                </div>
                <div class="radio-blue">
                    <input type="radio" [(ngModel)]="leftLock" value="1" name="lockGroup" (ngModelChange)="setLeftLock()"/>
                    <label>{{'mouse.sys.lock'  | translate}}</label>
                  
                    <input type="radio" [(ngModel)]="leftLock" value="null" name="lockGroup" (ngModelChange)="setLeftLock()">
                    <label>{{'mouse.sys.unlock'  | translate}}</label>
                </div>
            </div>
        </div>
    </ng-template>
</base-layout-mouse>
<div class="reset-model"  *ngIf="resetModal">
    <div class="model-title g-flex g-item-center">
        <span class="icon_square"></span>
        {{'mouse.key.10'  | translate}} 
    </div>
    <span>{{'mouse.tip.6'  | translate}}</span>
    <div class="model-btns g-flex">
        <div (click)="reset()">{{'common.key_confirm'  | translate}}</div>
        <div (click)="resetModal = false">{{'common.cancel'  | translate}}</div>
    </div>
</div>

<div class="reset-model"  *ngIf="updataModal">
    <div class="model-title g-flex g-item-center">
        <span class="icon_square"></span>
        {{'menu.keyboard_firmware'  | translate}} 
    </div>
        <span>{{'firmware.info.7'  | translate}}：{{firmwareInfo.lastedVersion}}</span><br>
        <span>{{ 'firmware.info.updateSize' | translate }}:{{firmwareInfo.size + ' KB'}}</span><br>
    <span>{{'firmware.info.8'  | translate}}：{{firmwareInfo.lastedCreateTime | date:"YYYY-MM-dd"}}</span><br>
    <span>{{'是否确认更新固件'  | translate}}</span>
    <div class="model-btns g-flex">
        <div (click)="onUpload()">{{'common.key_confirm'  | translate}}</div>
        <div (click)="updataModal = false">{{'common.cancel'  | translate}}</div>
    </div>
</div>
<nz-modal
    [(nzVisible)]="isVisible"
    [nzClosable]="false"
    [nzMaskClosable]="false"
    [nzFooter]="null"
    [nzStyle]="{top: '48%', left: '6%'}"
>
    <ng-container *nzModalContent>
    <nz-progress
            class="upload-rate"
            *ngIf="rate"
            [nzPercent]="rate"
            [nzShowInfo]="false"
    ></nz-progress>
        <div *ngIf="rate" class="rate-num">{{rate}}%</div>
    </ng-container>
</nz-modal>